---
layout: post
title:  "漫话云计算（一） —— 简介与起源"
categories: 编程随想
---

漫话云计算系列文章将从多个维度介绍云计算，包括起源，发展和行业现状。本文尽可能避免过度谈及技术话题，希望非研发的小伙伴亦能从中受益。笔者水平有限，不足之处请多包涵。

## 从一个故事讲起

让我们从一个具体的故事出发，十年之前，那时云计算还未兴起；十年之前，那时你有一个很好的想法，获得了投资人的青睐，也招来了一个靠谱的程序员去实现它。业务上线前，你需要服务器，并把它们托管在数据中心，此外你还需要申请带宽，备案 IP 等。然而捉襟见肘的你发现采购服务器是一笔不菲的费用，托管和带宽费用也不低；此外，长达数月的采购上架周期让你备受煎熬：万一风口在下月停了呢，这头金猪再也飞不起来了。从中我们不难发现，对 IT 资源(服务器，网络，存储等的统称)有需求，但是需求量很小的企业，它们面临如下问题：

- IT 资源初期成本投入高
- IT 资源采购周期长

让故事继续，业务后上线后，很大概率的来讲，残酷的现实将给满腔热血的你浇上一盆冰水，你将惨遭滑铁卢，最终将服务器在某宝卖出，这时候你发现，服务器不菲的折旧费亦是一笔不小的损失。当然，兢兢业业的你也有可能成为上天的宠儿，上线后业务井喷式的发展，同时 IT 资源也承载着巨大的压力，你需要及时采购和扩容，那么问题来了：扩容多少呢？在采购上线周期冗长的条件下，扩容过多增加额外的成本，扩容过少影响业务的稳定。当滴滴 CTO 张博回忆起那段和快的竞争的岁月时，他曾说到：

> 两周的时间里，订单上涨 50 倍......当时的情况是，我们的服务器挂了，用户就会涌向快的，快的就会挂，用户再涌回来，我们就会挂。考验的是谁的服务器先稳定下来，用户就会沉淀。

不论是源于实际需求还是故事需要，你会和 Big Data/AI 等挂上钩，并且需要 SQL/(分布式)NoSQL/Bigdata/AI 相关研发维护人员，这些高质量的人力成本价格不菲。所以，对于快速成长且对 IT 资源有相应需求的企业，它们可能面临如下问题：

- 难以按需快速获取 IT 资源，缺乏弹性
- 某些领域的人力成本高，小企业难以承受
- 安全问题，比如 DDOS，账户安全等

百“云”齐放的现在很好的解决了上述问题，在数分钟的时间里，你可以在 [AWS(Amazon Web Service)](https://aws.amazon.com)／[阿里云](https://www.aliyun.com/)等平台上创建成百上千个服务器／IP(带宽)／磁盘／负载均衡／Database／Bigdata／安全防护等资源，它们按照小时收费。特别当面对类似双十一抢购场景，你只需要在双十一前扩容你的 IT 资源，并在双十一之后释放它们，用最经济的 IT 成本支撑业务的发展。

上例描述了云计算的部分业务场景，希望你对云计算的概念，云计算的业务场景，以及云计算能解决什么问题有个初步的认识。


## 云计算是什么

云计算是什么？[维基百科](https://en.wikipedia.org/wiki/Cloud_computing)的定义如下：

>Cloud computing is a new form of Internet-based computing that provides shared computer processing resources and data to computers and other devices on demand. 

事实上，从不同角度，云计算的定义多达上百种。我理解的云计算既是一种按需获取 IT 资源的交付模式，也是一种共享经济的商业模式。云计算通过专门的软件管理集中的 IT 资源，形成一个共享的资源池，用户按需从资源池申请和消费资源。意味着 IT 资源可以像商品一样流通，就像水／煤／电一样，取用方便，按需消费。不仅如此，云计算让用户不用关心底层细节，免去运维成本，专注于业务本身。

从服务类型可将云计算分为三类：

- IaaS(Infrastruction as a Service): 基础设施类服务，如虚拟机，磁盘，网络等等。
- PaaS(Platform as a Service): 平台设施类服务，比如数据库，大数据等等。
- SaaS(Software as a Service): 软件类服务，比如 ERP 服务 [workday](https://www.workday.com/), [salesforce](https://www.salesforce.com/)。

从部署模型可分为：

- 公有云：服务于企业外部，比如 AWS，Azure，Google Cloud，阿里云等。
- 私有云：服务于企业内部，比如携程，京东等均有内部的云平台。
- 混合云：公有云和私有云的混合版。

从行业的角度可分为政务云，金融云，教育云等等。

## 云计算的起源，从 AWS 说起

多年以后，每当 [Jeff Bezos(亚马逊 CEO)](https://en.wikipedia.org/wiki/Jeff_Bezos) 看到公司年年上扬的股价，他可能都会想起，十几年前的某一天。那时亚马逊还只是一个线上书店，远见卓识的他要求亚马逊必须提供一个基础平台([参见：Stevey 对 Amazon 和 Google 平台的吐槽](http://coolshell.cn/articles/5701.html))：

> 所有团队的程序模块都要以通过 Service Interface 方式将其数据与功能开放出来；所有的 Service Interface，都必须从骨子里到表面上设计成能对外界开放的。团队间的程序模块的信息通信，都要通过这些接口。

经历数年的演化，这套基础平台(AWS 前身)不仅很好的服务亚马逊自身，还为以后的 AWS 奠定了扎实的技术和产品基础。和双十一类似，亚马逊也有 [Black Friday](https://en.wikipedia.org/wiki/Black_Friday_(shopping)) 等促销节日，促销时的流量比平常高出数倍乃至数十倍，所以亚马逊购置了大量的服务器等 IT 资源，当促销过去后，这些 IT 资源多处于闲置状态，造成严重的浪费。为了充分利用这些 IT 设施，亚马逊做了一个明智的决定，把这套平台(AWS)对外开放，并按使用量收取费用。之后的日子里，AWS 的商业成功超出所有人的想象，连续超高的增长率让人瞠目结舌，更有不菲的运营利润。随着技术和商业的发展，AWS 在全球建设的[数据中心](https://aws.amazon.com/about-aws/global-infrastructure/)越来越多，性能和稳定性越来越高，云计算[产品](https://aws.amazon.com/)越来越丰富，它在云计算领域一骑绝尘，竞争对手们只能望其项背。

在资本市场，如果一只股票既没有亮点，又没有好看的财报，还没有可观的预期，就会被判死刑，反之则能得到资本的青睐。亚马逊上市以来，虽然营业额持续增长，但绝大多数年份却处于亏损状态，从来没有高额的利润回报，但它的股价却年年攀升(见下图)。特别从 2008 年起，更是飞速增长；而那一年，亚马逊发布了 AWS。

![亚马逊股价](http://wsfdl.oss-cn-qingdao.aliyuncs.com/amazon_stock.png)

AWS 却满足了资本市场所有的期望和幻想：首先，云计算本身就是一个充满故事和期望的亮点；其次，公有云市场规模高达千亿美金，其中预计 2017 年为 2468 亿美金，并且每年高速增长([详情见 Gartner](http://www.gartner.com/newsroom/id/3616417))。AWS 2015 年 Q1 财报首度公开旗下云计算服务 AWS 的营收状况，该季度营收 15.6 亿美元，同比增长 49%，运营利润 2.65 亿美元，运营利润率约 17%，从 15 年到 17 年，AWS 始终保持高速的增长率和运营利润，它被资本市场看好，为年年攀升的股价作出重要的贡献。

![AWS](http://wsfdl.oss-cn-qingdao.aliyuncs.com/aws_benefit.png)
